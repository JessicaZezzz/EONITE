<app-navbar></app-navbar>
<div class="w-full flex justify-center">
  <div class="absolute inset-x-0 -z-10 transform-gpu overflow-hidden blur-3xl" aria-hidden="true">
    <div class="relative -z-10 left-[calc(50%-11rem)] aspect-[1155/678] w-[36.125rem] -translate-x-1/2 rotate-[30deg] bg-gradient-to-tr from-[#ff80b5] to-[#9089fc] opacity-30 sm:left-[calc(50%-30rem)] sm:w-[72.1875rem]" style="clip-path: polygon(74.1% 44.1%, 100% 61.6%, 97.5% 26.9%, 85.5% 0.1%, 80.7% 2%, 72.5% 32.5%, 60.2% 62.4%, 52.4% 68.1%, 47.5% 58.3%, 45.2% 34.5%, 27.5% 76.7%, 0.1% 64.9%, 17.9% 100%, 27.6% 76.8%, 76.1% 97.7%, 74.1% 44.1%)"></div>
  </div>
  <div class="m-2 max-w-screen-xl">
    <div class="md:flex">
      <div class="p-4 bg-white shadow-md rounded-lg w-full">
          <div class="flex flex-col md:flex-row border-b-2 border-gray-300 justify-between p-5 items-stretch">
            <div class="text-[#5C06E4] flex flex-col md:flex-row space-x-5 ">
              <div>
                <div class="flex flex-col sm:flex-row items-center min-w-[300px] sm:min-w-[500px] md:min-w-[800px] sm:justify-between font-semibold p-2 text-2xl border-b-2 border-[#5C06E4] text-center md:text-left">
                  <div>
                    Daftar Produk
                  </div>
                  <div>
                    <button (click)="addProduct()" [disabled]="stateVendor == 'PENDING' || rekening == undefined" class="flex items-center justify-center mt-2 sm:mt-0 rounded-md bg-[#5C06E4] px-5 py-2.5 text-center text-sm font-medium text-white hover:bg-indigo-500 focus:outline-none focus:ring-4 focus:ring-blue-300 disabled:bg-gray-300">
                      Tambah Produk Baru
                    </button>
                  </div>
                </div>
                <ng-template mat-tab-label>
                  <span class="tab-text">Produk</span>
                </ng-template>
                <div *ngIf="stateVendor == 'PENDING' || rekening == undefined">
                  <div class="w-full h-[200px] space-y-2 mt-3">
                    <div *ngIf="stateVendor != 'PENDING'" class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative" role="alert">
                      <span class="block sm:inline">Harap Menunggu status Anda sedang dikonfirmasi admin</span>
                    </div>
                    <div *ngIf="rekening == undefined" class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative" role="alert">
                      <span class="block sm:inline">Harap mengisi nomor rekening anda terlebih dahulu pada Profil</span>
                    </div>
                  </div>
                </div>
                <div *ngIf="listProduct.length == 0">
                  <div class="w-full flex items-center flex-wrap justify-center gap-10 mt-5">
                    <div class="grid gap-4 w-60">
                      <div class="w-20 h-20 mx-auto bg-gray-50 rounded-full shadow-sm justify-center items-center inline-flex">
                        <svg xmlns="http://www.w3.org/2000/svg" width="33" height="32" viewBox="0 0 33 32" fill="none">
                          <g id="File Serch">
                            <path id="Vector" d="M19.9762 4V8C19.9762 8.61954 19.9762 8.92931 20.0274 9.18691C20.2379 10.2447 21.0648 11.0717 22.1226 11.2821C22.3802 11.3333 22.69 11.3333 23.3095 11.3333H27.3095M18.6429 19.3333L20.6429 21.3333M19.3095 28H13.9762C10.205 28 8.31934 28 7.14777 26.8284C5.9762 25.6569 5.9762 23.7712 5.9762 20V12C5.9762 8.22876 5.9762 6.34315 7.14777 5.17157C8.31934 4 10.205 4 13.9762 4H19.5812C20.7604 4 21.35 4 21.8711 4.23403C22.3922 4.46805 22.7839 4.90872 23.5674 5.79006L25.9624 8.48446C26.6284 9.23371 26.9614 9.60833 27.1355 10.0662C27.3095 10.524 27.3095 11.0253 27.3095 12.0277V20C27.3095 23.7712 27.3095 25.6569 26.138 26.8284C24.9664 28 23.0808 28 19.3095 28ZM19.3095 16.6667C19.3095 18.5076 17.8171 20 15.9762 20C14.1352 20 12.6429 18.5076 12.6429 16.6667C12.6429 14.8257 14.1352 13.3333 15.9762 13.3333C17.8171 13.3333 19.3095 14.8257 19.3095 16.6667Z" stroke="#4F46E5" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" />
                          </g>
                        </svg>
                      </div>
                      <div>
                        <h2 class="text-center text-black text-xl font-semibold leading-loose pb-2">Produk tidak ditemukan</h2>
                        <p class="text-center text-black text-base font-normal leading-relaxed pb-4">Coba buat produk Anda</p>
                      </div>
                    </div>
                  </div>
                </div>
                <div *ngIf="listProduct.length > 0" class="w-full grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 p-2 items-stretch">
                  <div *ngFor="let i of listProduct" class="flex w-full max-w-xs flex-col overflow-hidden rounded-lg border border-indigo-100 bg-white">
                    <div class="relative mx-3 mt-3 flex h-[150px] overflow-hidden rounded-xl">
                      <img *ngIf="i.photo[0] == undefined" class="peer absolute top-0 right-0 h-full w-full object-cover" src="../assets/icon/bg-default.png"/>
                      <img *ngIf="i.photo[0] != undefined" class="peer absolute top-0 right-0 h-full object-cover" src="{{'data:image/jpg;base64,' + i.photo[0].image}}"/>
                      <img *ngIf="i.photo[1] != undefined" class="peer absolute top-0 -right-96 h-full w-full object-cover transition-all delay-100 duration-1000 hover:right-0 peer-hover:right-0" src="{{'data:image/jpg;base64,' + i.photo[1].image}}" alt="product image" />
                      <svg class="pointer-events-none absolute inset-x-0 bottom-5 mx-auto text-3xl text-white  transition-opacity group-hover:animate-ping group-hover:opacity-30 peer-hover:opacity-0" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path fill="currentColor" d="M2 10a4 4 0 0 1 4-4h20a4 4 0 0 1 4 4v10a4 4 0 0 1-2.328 3.635a2.996 2.996 0 0 0-.55-.756l-8-8A3 3 0 0 0 14 17v7H6a4 4 0 0 1-4-4V10Zm14 19a1 1 0 0 0 1.8.6l2.7-3.6H25a1 1 0 0 0 .707-1.707l-8-8A1 1 0 0 0 16 17v12Z" /></svg>
                      <button (click)="clickPreview(i.id!)" class="absolute top-0 right-0 m-2 rounded-md py-1 bg-[#5C06E4] px-2 text-center text-sm font-medium text-white hover:bg-[#5C06E4] hover:bg-indigo-500">Lihat Detail</button>
                    </div>
                    <div class="mt-4 px-5 pb-5">
                      <div class="text-md tracking-tight text-slate-900">{{ i.name }}</div>
                      <div class="mt-1 mb-1 flex items-center justify-between">
                        <p>
                          <span class="text-lg font-bold text-slate-900 text-center">{{ i.price! | currency }}</span>
                        </p>
                      </div>
                      <div class="flex flex-col sm:flex-row sm:space-x-2 space-y-2 sm:space-y-0">
                        <button (click)="editProduct(i.id!)" type="button" class="text-[#5C06E4] inline-flex justify-center hover:text-white border border-[#5C06E4] hover:bg-[#5C06E4] focus:ring-4 focus:outline-none focus:ring-[#5C06E4] font-medium rounded-lg text-sm px-5 py-2.5 text-center">
                          EDIT
                        </button>
                        <button (click)="deleteProduct(i.id!)" type="button" class="text-red-600 inline-flex justify-center hover:text-white border border-red-600 hover:bg-red-600 focus:ring-4 focus:outline-none focus:ring-red-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center">
                          <svg class="w-5 h-5 mr-1 -ml-1" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg>
                          HAPUS
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
      </div>
    </div>
  </div>
</div>
<div *ngIf="deleteItem" class="bg-black/[.30] overflow-x-hidden fixed z-50 flex justify-center items-center w-full inset-0 h-[calc(100%)]">
  <div class="relative p-4 text-center bg-white rounded-lg shadow sm:p-5">
    <button (click)="deleteItem = false" type="button" class="text-gray-400 absolute top-2.5 right-2.5 bg-transparent hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center" data-modal-toggle="deleteModal">
        <svg aria-hidden="true" class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>
        <span class="sr-only">Close modal</span>
    </button>
    <svg class="text-gray-400 dark:text-gray-500 w-11 h-11 mb-3.5 mx-auto" aria-hidden="true" fill="red" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg>
    <p class="mb-4">Apakah Anda yakin ingin menghapus produk ini?</p>
    <div class="flex justify-center items-center space-x-4">
        <button (click)="deleteItem = false" data-modal-toggle="deleteModal" type="button" class="rounded-md px-7 md:px-5 py-2 text-white bg-[#5C06E4] hover:bg-indigo-500">
            Tidak, batal
        </button>
        <button (click)="onDelete()" class="md:ml-3 rounded-md px-5 py-2 text-white bg-red-600 hover:bg-red-500">
            Ya, Saya yakin
        </button>
    </div>
  </div>
</div>
<app-footer></app-footer>
